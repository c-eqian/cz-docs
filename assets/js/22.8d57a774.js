(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{469:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("Boxx"),s._v(" "),a("h1",{attrs:{id:"_1-安装"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装"}},[s._v("#")]),s._v(" 1.安装")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[s._v("yum "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v(" java-11-openjdk* "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-y")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("p",[s._v("查看当前使用的 java 版本 可以看到以下信息则可以继续安装 jenkins")]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("root@bogon ~"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("# java -version")]),s._v("\nopenjdk version "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"11.0.15"')]),s._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("2022")]),s._v("-04-19 LTS\nOpenJDK Runtime Environment "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("build "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.0")]),s._v(".15+9-LTS"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\nOpenJDK "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("64")]),s._v("-Bit Server VM "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("18.9")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("build "),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("11.0")]),s._v(".15+9-LTS, mixed mode, sharing"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("如果以前已经安装过其它版本的 java 运行时环境，则需要切换使用 jdk11，使用 alternatives --config java 切换 java 版本，切换版本后验证下是否切换成功")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[root@iZ5hkuztint4rsZ ~]# alternatives --config java\n\nThere are 2 programs which provide 'java'.\n\n  Selection    Command\n-----------------------------------------------\n*  1           java-1.8.0-openjdk.x86_64 (/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.342.b07-1.el7_9.x86_64/jre/bin/java)\n + 2           java-11-openjdk.x86_64 (/usr/lib/jvm/java-11-openjdk-11.0.16.0.8-1.el7_9.x86_64/bin/java)\n\nEnter to keep the current selection[+], or type selection number:\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br")])]),a("p",[s._v("把 Jenkins 库添加到 yum 库,然后安装")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("wget -O /etc/yum.repos.d/jenkins.repo http://pkg.jenkins-ci.org/redhat/jenkins.repo\n rpm --import https://jenkins-ci.org/redhat/jenkins-ci.org.key\n yum install -y jenkins\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("如果 yum 安装 jenkins 出现签名认证失败,再启动命令后面加上- -nogpgcheck")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("yum install -y jenkins --nogpgcheck\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h2",{attrs:{id:"配置-jenkis-的端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-jenkis-的端口"}},[s._v("#")]),s._v(" 配置 jenkis 的端口")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v('vi /etc/sysconfig/jenkins\n#此端口不冲突可以不修改\nJENKINS_PORT="8080"\n')])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("h2",{attrs:{id:"启动-jenkins"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启动-jenkins"}},[s._v("#")]),s._v(" 启动 jenkins")]),s._v(" "),a("div",{staticClass:"language-4.启动jenkins line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("# start 启动 stop停止,restart重启\nservice jenkins start/stop/restart\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("安装成功后 Jenkins 将作为一个守护进程随系统启动\n系统会创建一个“jenkins”用户来允许这个服务，如果改变服务所有者，同时需要修改/var/log/jenkins, /var/lib/jenkins, 和/var/cache/jenkins 的所有者\n启动的时候将从/etc/sysconfig/jenkins 获取配置参数")]),s._v(" "),a("h2",{attrs:{id:"后台运行"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#后台运行"}},[s._v("#")]),s._v(" 后台运行")]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("查看"),a("code",[s._v("Jenkins")]),s._v("状态")])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("ps")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-ef")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("grep")]),s._v(" jenkins\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("strong",[s._v("后台启动方式")])])]),s._v(" "),a("div",{staticClass:"language-bash line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("nohup")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("java")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-jar")]),s._v(" jenkins.war "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("--httpPort")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("13203")]),s._v("\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("ul",[a("li",[a("p",[a("strong",[s._v("注意")])])]),s._v(" "),a("li",[a("p",[s._v("使用以上方式安装会默认安装最新版，这里最新版本是2.387")])]),s._v(" "),a("li",[a("p",[s._v("启动的路径必须是"),a("code",[s._v("jenkins.war")]),s._v("所在的文件目录。"),a("code",[s._v("find / -name *jenkins.war")])])]),s._v(" "),a("li",[a("p",[a("code",[s._v("nohup")]),s._v("命令的输出的文件是"),a("code",[s._v("nohup.out")]),s._v("，详细说明见"),a("code",[s._v("nohup --help")]),s._v("。")])])]),s._v(" "),a("h1",{attrs:{id:"_2-部署项目-vue"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-部署项目-vue"}},[s._v("#")]),s._v(" 2.部署项目（vue）")]),s._v(" "),a("h2",{attrs:{id:"安装node环境"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装node环境"}},[s._v("#")]),s._v(" 安装node环境")]),s._v(" "),a("p",[s._v("进入插件管理,输入"),a("code",[s._v("Nodejs")])]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330145735140.png",alt:"image-20230330145735140"}})]),s._v(" "),a("p",[s._v("返回上一级找到"),a("code",[s._v("Tools")]),s._v("进入，如果安装成功，此时往下滑会找到"),a("code",[s._v("NodeJs")]),s._v(",填写完成，保存返回")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330150019578.png",alt:"image-20230330150019578"}})]),s._v(" "),a("h2",{attrs:{id:"安装分支插件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#安装分支插件"}},[s._v("#")]),s._v(" 安装分支插件")]),s._v(" "),a("p",[s._v("安装分支插件"),a("code",[s._v("Git Parameter")])]),s._v(" "),a("h2",{attrs:{id:"项目配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#项目配置"}},[s._v("#")]),s._v(" 项目配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330150225954.png",alt:"image-20230330150225954"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330150504929.png",alt:"image-20230330150504929"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330150632119.png",alt:"image-20230330150632119"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330150738804.png",alt:"image-20230330150738804"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330150817078.png",alt:"image-20230330150817078"}})]),s._v(" "),a("div",{staticClass:"language-shell line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-shell"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[s._v("node")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token parameter variable"}},[s._v("-v")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("install")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("npm")]),s._v(" run build:prod\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h1",{attrs:{id:"_3-远程部署"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-远程部署"}},[s._v("#")]),s._v(" 3.远程部署")]),s._v(" "),a("p",[s._v("如果是需要部署到远程服务器的话，可以借助"),a("code",[s._v("ssh")]),s._v("实现构建后将文件上传，此时需要安装"),a("code",[s._v("ssh")]),s._v("插件"),a("code",[s._v("Publish Over SSH")])]),s._v(" "),a("p",[s._v("安装完成后，找到全局配置，往下滑到底部，会找到"),a("code",[s._v("SSH")]),s._v("配置")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330151238756.png",alt:"image-20230330151238756"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330151530594.png",alt:"image-20230330151530594"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330151607502.png",alt:"image-20230330151607502"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330151630719.png",alt:"image-20230330151630719"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330151911956.png",alt:"image-20230330151911956"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://c-typora.oss-cn-guangzhou.aliyuncs.com/c-typora/image-20230330151955822.png",alt:"image-20230330151955822"}})]),s._v(" "),a("p",[a("strong",[s._v("此时可以愉快地梭哈了！！！！")])]),s._v(" "),a("p",[s._v("[TOC]")])],1)}),[],!1,null,null,null);a.default=e.exports}}]);